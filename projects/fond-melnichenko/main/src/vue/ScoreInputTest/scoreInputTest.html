<script type="text/x-template" id="v-score-input-test">

  <div class="test__container">
    <div class="test__body" v-if="keyQuestion === counterQuestion" v-for="(question, keyQuestion) in testArray">

      <div class="row mb-30 mb-xs-25">
        <div class="col-lg-3 hide-xs">&nbsp;</div>
        <div class="col-lg-18 col-xs-12" v-if="testArray.length > 1">
          <!--Щётчик вопросов-->
          <p class="text-l text-gray-light">{{ counterQuestion + 1 + '/' + testArray.length }}</p>
        </div>
        <!-- <div class="col-lg-12 col-xs-12 mb-xs-25">
          <picture class="main-people__charset">
            <img class="img_center" :src="question.storyImg" alt="Персонаж" />
          </picture>
        </div> -->
        <!-- <div class="col-lg-12 col-xs-12 align-center" v-html="question.storyText">

        </div> -->
      </div>
      <div class="row">
        <div class="col-lg-3 hide-xs">&nbsp;</div>
        <div class="col-lg-18 col-xs-12">
          <!--Text вопроса-->
          <h4 class="mb-30 mb-xs-25">{{ question.text }}</h4>

          <p class="text-s text-gray-light mb-20 mb-xs-25" v-if="!question.supText">
            {{question.type === 'checkbox' ? 'Выбери несколько вариантов' : 'Выбери один ответ'}}</p>
          <p class="suptext text-s mb-20 mb-xs-25" v-else>{{question.supText}}</p>
        <!-- </div>
        <div class="col-lg-18"> -->

          <!-- Text input -->
          <div class="test__answers" v-if="question.type === 'textInput'">
              <label for="text__input">
                <input type="text"
                      class="form__input"
                      id="text__input"
                      v-model="answerInput"
                      :placeholder="question.placeholder"
                      :disabled="disableInput"
                      @input="handleTextInput" />
              </label>
          </div>

          <!-- Number input -->
          <div class="test__answers" v-if="question.type === 'numberInput'">
               <div class="form-wrapper"  v-for="(statement, idx) in question.evalStatements" :key="idx">
                <input type="number"
                      min="1"
                      max="10"
                      class="form__input number__input"
                      :id="'number__input ' + statement.id"
                      v-model.number="numberInput[statement.id].score"
                      :placeholder="question.placeholder"
                      :disabled="disableInput"
                      @keyup="setPrevValue(idx, $event)"
                      @input="handleNumberInput(idx)"
                       />

              <label class="text-l" for="number__input" >
                      {{ statement.text }}
              </label>

            </div>

            <p class="text-s text-gray-light mb-20 mb-xs-25">Осталось баллов: {{ 10 - inputValueSum }} </p>
          </div>

        </div>
      </div>
    </div>



    <div class="row mb-30 mb-xs-30" v-if="!inputIsValid">
      <div class="col-lg-4 col-xs-12 order-xs-2 align-vertical lmm-margin__right-0">
        <div><img alt="" src="user/img/pers_female_circle_pos.png" width="130">
        </div>
      </div>
      <div class="col-lg-16 col-xs-12 order-xs-1 mb-xs-20 align-center align-vertical">
        <div class="speech speech_tails speech_tails-left-lg speech_tails-bottom-xs mt-xs-20">
          <div class="text-m">Ты можешь оценить утверждения только от 2 до 10.
          </div>
        </div>
      </div>
    </div>


    <div class="row" v-if="feedbackType === 'femaleDialog' && feedbackShow">
      <div class="col-lg-4 col-xs-12 order-xs-2 align-vertical lmm-margin__right-0">
        <div><img alt="" src="user/img/pers_female_circle_pos.png" width="130">
        </div>
      </div>
      <div class="col-lg-16 col-xs-12 order-xs-1 mb-xs-20 align-center align-vertical">
        <div class="speech speech_tails speech_tails-left-lg speech_tails-bottom-xs mt-xs-20">
          <div class="text-m">{{ questionStorage[counterQuestion].answers[tempStorage.items].feedback }}
          </div>
        </div>
      </div>
    </div>



    <div class="test__footer-wrapper">
      <div class="test__footer text-center" >
        <button class="btn btn_border mr-30" v-if="btnReset" @click="resetNumberInput()">
          <span class="btn__text">Сбросить</span>
        </button>
        <button class="btn btn_border" v-if="btnAccept" @click="acceptAnswer()">
          <span class="btn__text">Принять ответ</span>
        </button>
        <button class="btn btn_border" v-if="btnNext" @click="nextQuestion()">
          <span class="btn__text">Продолжить</span>
        </button>
      </div>
    </div>
  </div>
</script>
